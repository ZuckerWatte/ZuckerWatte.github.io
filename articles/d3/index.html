<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>D3 Data-Driven Documents - A Generated Static Site
    </title>
    <link rel="alternate" href="http://localhost:8080/feed.xml" type="application/rss+xml" title="This site is built with Wintersmith, a Node.js based static site generator">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>D3 Data-Driven Documents</h1>
        <p class="author">Written by 
          <!--a(href=contents.about.index.url) hui --><a href="/authors/">Mona</a>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><div class="row">
  <div class="col-sm-6" id="task01"><svg viewBox="0 0 800 600" id="chart-aad68792-9265-4db3-af5c-cd526f0f3673">
  <g transform=""/>
<g class="x axis" transform="translate(55, 450)"><g class="tick" style="opacity: 1;" transform="translate(44,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">Italian</text></g><g class="tick" style="opacity: 1;" transform="translate(117,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">British</text></g><g class="tick" style="opacity: 1;" transform="translate(190,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">Belgian</text></g><g class="tick" style="opacity: 1;" transform="translate(263,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">American</text></g><g class="tick" style="opacity: 1;" transform="translate(336,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">German</text></g><g class="tick" style="opacity: 1;" transform="translate(409,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">Dutch</text></g><g class="tick" style="opacity: 1;" transform="translate(482,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">French</text></g><g class="tick" style="opacity: 1;" transform="translate(555,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">Spanish</text></g><g class="tick" style="opacity: 1;" transform="translate(628,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">New Zealander</text></g><g class="tick" style="opacity: 1;" transform="translate(701,0)"><line y2="6" x2="0"/><text dy=".5em" style="text-anchor: end;" y="9" x="0" dx="-.5em" transform="rotate(-45)">Swedish</text></g><path class="domain" d="M-4,6V0H745V4"/></g><g class="y axis" transform="translate(55, 0)"><g class="tick" style="opacity: 1;" transform="translate(0,450)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">0</text></g><g class="tick" style="opacity: 1;" transform="translate(0,400)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">1</text></g><g class="tick" style="opacity: 1;" transform="translate(0,350)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">2</text></g><g class="tick" style="opacity: 1;" transform="translate(0,300.00000000000006)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">3</text></g><g class="tick" style="opacity: 1;" transform="translate(0,250)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">4</text></g><g class="tick" style="opacity: 1;" transform="translate(0,200)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">5</text></g><g class="tick" style="opacity: 1;" transform="translate(0,150.00000000000003)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">6</text></g><g class="tick" style="opacity: 1;" transform="translate(0,100)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">7</text></g><g class="tick" style="opacity: 1;" transform="translate(0,50.00000000000002)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">8</text></g><g class="tick" style="opacity: 1;" transform="translate(0,8)"><line x2="-6" y2="0"/><text dy=".32em" style="text-anchor: end;" x="-9" y="0">9</text></g><path class="domain" d="M-3,0H0V450H-4"/><text transform="rotate(-90)" y="6" dy="0.71em" style="text-anchor: end;">Count</text></g><rect class="bar" x="66" width="66" y="200" height="250"/><rect class="bar" x="139" width="66" y="200" height="250"/><rect class="bar" x="212" width="66" y="400" height="50"/><rect class="bar" x="285" width="66" y="0" height="450"/><rect class="bar" x="358" width="66" y="350" height="100"/><rect class="bar" x="431" width="66" y="400" height="50"/><rect class="bar" x="504" width="66" y="300.00000000000006" height="149.99999999999994"/><rect class="bar" x="577" width="66" y="350" height="100"/><rect class="bar" x="650" width="66" y="400" height="50"/><rect class="bar" x="723" width="66" y="400" height="50"/></svg>
    <table class="table">
      <thead>
      <tr><th class="text-left">Nationality</th>
      <th class="text-center">Count</th><br>      </tr></thead>
      <tbody>
        <tr>
          <td class="text-left">Italian</td>
          <td class="text-center">5</td>
        </tr>
        <tr>
          <td class="text-left">British</td>
          <td class="text-center">5</td>
        </tr>
        <tr>
          <td class="text-left">Belgian</td>
          <td class="text-center">1</td>
        </tr>
        <tr>
          <td class="text-left">American</td>
          <td class="text-center">9</td>
        </tr>
        <tr>
          <td class="text-left">German</td>
          <td class="text-center">2</td>
        </tr>
        <tr>
          <td class="text-left">Dutch</td>
          <td class="text-center">1</td>
        </tr>
        <tr>
          <td class="text-left">French</td>
          <td class="text-center">3</td>
        </tr>
        <tr>
          <td class="text-left">Spanish</td>
          <td class="text-center">2</td>
        </tr>
        <tr>
          <td class="text-left">New Zealander</td>
          <td class="text-center">1</td>
        </tr>
        <tr>
          <td class="text-left">Swedish</td>
          <td class="text-center">1</td>
        </tr>
      </tbody>
    </table>
</div>
</div>

<p>In diesem Beitrag wird die Erstellung eines Barcharts zu einem Datenset aus der <em>experimental Motor Racing Developer <span class="caps">API</span></em> von <a href="http://ergast.com/mrd/">ergast.com</a> erläutert. Die Visualisierung wurde innerhalb eines Node.js Projektes mit Ecmascript 6 und Hilfe der der Javascript Bibliothek D3 erstellt. (Der generierte <span class="caps">SVG</span>-Code wurde in diesen Artikel&nbsp;kopiert) </p>
<p><span class="more"></span></p>
<h4 id="data-driven-documents">Data-Driven&nbsp;Documents</h4>
<p>“D3 allows you to bind arbitrary data to a Document Object Model (<span class="caps">DOM</span>), and then apply data-driven transformations to the document.”<sup><a href="#3">3</a></sup> Dieser Satz fasst die Grundfunktionalität der Open-Source-Bibliothek D3 zusammen, deren drei D’s dementsprechend für “Data-Dricen Documents” stehen. Seit 2011 wird sie von Mike Bostock auf <a href="https://github.com/mbostock/d3">Github</a> veröffentlicht und kontinuierlich erweitert.<sup><a href="#1">1</a></sup> Mit der Datenvisualisierungsbibliothek können <span class="caps">DOM</span>-Elemente auf der Grundlage von Datensätzen manipuliert und animiert werden und auch interaktive Funktionen lassen sich realisieren.
Die Library nutzt die aktuellen Webstandards CSS3, HTML5 und SVG und bietet maximale Flexibilität beim Erstellen von Visualisierungen. Die hohe Performance in der Verarbeitung großer Datenmengen und die Kompatibilität zu unterschiedlichsten Dateiformaten<sup><a href="#4">4</a></sup>  zählen zu den großen Pluspunkten der Bibliothek.<sup><a href="#1">1</a></sup> Der funktionale Aufbau erleichtert das Erstellen von Plugins, die wiederverwendt werden können. Eine Liste von freien Plugins stellt Mike Bostock ebenfalls auf <a href="https://github.com/mbostock/d3/wiki/Plugins">GitHub</a> zur Verfügung.
D3 bietet neben den klassischen Visualisierungsarten wie Balken- oder Kuchendiagrammen die Möglichkeit auch komplexere Darstellungen wie Streamgraphen<sup><a href="#5">5</a></sup>, Chords<sup><a href="#6">6</a></sup> und Choropleths<sup><a href="#7">7</a></sup> oder eigene kreative Lösungen zu&nbsp;realisieren. </p>
<h4 id="-hnlichkeit-zu-jquery">Ähnlichkeit zu&nbsp;jQuery</h4>
<p>Neben Funktionen zur Verarbeitung von Daten stellt D3 wie schon erwähnt Funktionen zur Manipulation von <span class="caps">DOM</span>-Elementen und zur Erstellung von Animationen bereit. Frontendentwicklern, die bereits Erfahrung mit der Javascript-Library jQuery haben, kommt diese Ähnlichkeit zu Gute. Nicht nur die Begrifflichkeiten<sup><a href="#8">8</a></sup> und Funktionen zur <span class="caps">DOM</span>-Manipulation sind ableitbar, sondern auch Chaining, also die Verkettung von Funktionsaufrufen, funktioniert bei D3 analog. Auch die bereits angesprochene Erweiterbarkeit durch Plugins, ist von jQuery bekannt. <sup><a href="#3">3</a></sup>
Dennoch ist “der Zeitaufwand für die Einarbeitung […] nicht zu unterschätzen”<sup><a href="#1">1</a></sup>, da D3 ein mächtiges Werkzeug ist, dessen Potenzial bis zu dynamischen Echtzeit Visualisierungen reicht. Eine Dokumentation der Funktionen findet sich in der <a href="https://github.com/mbostock/d3/wiki/API-Reference"><span class="caps">API</span>-Referenz von D3</a>&nbsp;. </p>
<h4 id="styling">Styling</h4>
<p>Anderst als pixelbasierte Grafiken sind SVGs als Skalierbare Vektor Grafken mit <span class="caps">CSS</span> stylebar. 
Properties wie <em>shape-rendering</em> für <span class="caps">SVG</span>-Elemente sind teilweise recht spezifisch und müssen anfangs gegebenenfalls beim <a href="https://www.w3.org/TR/SVG/styling.html"><span class="caps">W3C</span></a> nachgeschlagen werden. <sup><a href="#2">2</a></sup></p>
<h4 id="anzahl-der-fahrer-pro-nation">Anzahl der Fahrer pro&nbsp;Nation</h4>
<p>Im Markup Template wird ein Div-Container bereitgestellt, in den der <span class="caps">SVG</span>-Code gerendert wird.
Die ID des Containers wird zusammen mit den darzustellenden Daten<sup><a href="#9">9</a></sup> an das D3-Skript übergeben. In diesem werden vor der Generierung des Balkendiagramms die Dimensionen der Visualisierung und ihre Randabstände bestimmt. Für die Darstellung der Achsenlabels wird nach links und nach unten mehr Platz benötigt und in <em>leftPadding</em> und <em>bottomPadding</em> berücksichtigt. Zusätzlich wird mit Hilfe des npm-Packages <em>uuid</em> ein Universal Unique Identifier generiert, der als Selektor dem <span class="caps">SVG</span>-Element zugeordnet werden soll. In einer verteilten Anwendung mit vielen ggf. dynamischen SVG-Visualisierungen würde eine solche global eindeutige ID die Zuordnung erleichterten und dabei helfen Konflikte (z.B. das Überschreiben/Aktualisieren eines falschen SVGs) zu vermeiden.<br>Einem vordefinierten <span class="caps">SVG</span>-Template<sup><a href="#10">10</a></sup> wird anschließend die bereits definierte Viewbox zugewiesen und die uuid zugewisen und dieses <span class="caps">SVG</span>-Element dem DOM (innerhalb des vorgesehenen Div-Contaienrs) hinzugefügt. Nun wird die Funktion aufgerufen, die die eigentliche Visualisierung zeichnet. Ihr werden sowohl die erzeugte uuid (id des SVG-Elements), die darzustellenden Daten, die festgelegte Breite und Höhe des SVGs (jeweils abzüglich der Randabstände) und die Randabstände als Parameter&nbsp;übergeben.</p>
<pre><code class="lang-javascript"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params">containerId, data</span>) </span>{
    <span class="keyword">const</span> container = <span class="built_in">document</span>.getElementById(containerId)
    <span class="keyword">const</span> width = <span class="number">800</span>
    <span class="keyword">const</span> height = <span class="number">600</span>
    <span class="keyword">const</span> margin = {
        top: <span class="number">5</span>,
        right: <span class="number">0</span>,
        left: <span class="number">55</span>,
        bottom: <span class="number">145</span>
    }

    <span class="keyword">const</span> viewBox = <span class="string">`0 0 <span class="subst">${width}</span> <span class="subst">${height}</span>`</span>
    <span class="keyword">const</span> w = width - margin.left - margin.right
    <span class="keyword">const</span> h = height - margin.top - margin.bottom

    <span class="keyword">if</span> (!(data <span class="keyword">instanceof</span> <span class="built_in">Array</span>)) {
        <span class="keyword">return</span>
    }

    <span class="keyword">const</span> id = <span class="string">'chart-'</span> + uuid.v4()
    <span class="keyword">const</span> svg = tpl({
        id,
        viewBox
    })

    container.innerHTML = svg

    draw(id, data, w, h, margin)
}
</code></pre>
<p>Die <em>draw</em> Funktion zeichnet zuerst das Kooradinatensystem, in welchem die Balken später dargestellt werden und verteilt die Werte aus dem übergebenem Datenarray an dessen Achsen. 
Die Skala der x-Achse wird von D3 mit der Funktion <em>ordinal()</em> bereitgestellt und die <em>rangeRoundBands()</em> Methode berechnet eine gleichmäßige, horizontale Verteilung der einzelnen Balken über die der <em>draw</em> Funktion übergebenen Breite des SVGs. Mit der D3-Methode <em>domain()</em>  können jetzt die zur verarbeitenden Werte, auf die X-Achse gemappt werden. Da insgesamt zehn verschiedene Nationen in den Fahrerdaten vertreten waren, werden zehn Marken entlang der X-Achse gesetzt auf denen die Balken des Diagramms&nbsp;wachsen.          </p>
<p>Zur linearen Skalierung der y-Achse wird die Funktion <em>linear()</em> genutzt. Der Bereich für die Darstellung der Achse wird mit der übergebenen Höhe definiert. Zu beachten ist, dass D3 immer von y = 0 ausgeht und der Bereich daher genau anderst herum angegeben werden<sup><a href="#11">11</a></sup>. Ebenfalls mit <em>domain()</em> werden die im Datenarray übergebenen Werte zur Fahreranzahl innerhalb einer Nation als Skala für die Y-Achse verwendet. Der Bereich wird von 0 bis zum maximalen Wert im Datenset&nbsp;festgelegt.  </p>
<pre><code class="lang-javascript"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">chartId, data, width, height, margin</span>) </span>{
    <span class="keyword">const</span> svg = d3.select(<span class="string">`#<span class="subst">${chartId}</span>`</span>)
    <span class="keyword">const</span> x = d3.scale.ordinal().rangeRoundBands([<span class="number">0</span>, width], <span class="number">0.1</span>)
    <span class="keyword">const</span> y = d3.scale.linear().range([height, <span class="number">0</span>])
    <span class="keyword">const</span> xAxis = d3.svg.axis()
        .scale(x)
        .orient(<span class="string">'bottom'</span>)
        .ticks(<span class="number">10</span>)
    <span class="keyword">const</span> yAxis = d3.svg.axis()
        .scale(y)
        .orient(<span class="string">'left'</span>)
        .ticks(<span class="number">10</span>)

    x.domain(data.map(<span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>{
        <span class="keyword">return</span> d.nationality
    }))
    y.domain([
        <span class="number">0</span>, d3.max(data, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>{
            <span class="keyword">return</span> d.count
        })
    ])

  ...
</code></pre>
<p>Der zweite Teil der <em>draw</em> Funktion fügt dem <span class="caps">SVG</span>-Element unter Verwendung der übergebenen Daten und der im ersten Teil erzeugten Konstanten alle benötigten Elemente zur Darstellung des Balkendiagramms hinzu. Für die Achsen werden zunächst g-Elementesup&gt;<a href="#12">12</a></sup> erzeugt. Diesen werden zwei Attribute, ein Klassenname für eventuelles Styling und ein transform-Attribut für die Positionierung der Achse innerhalb des Diagramms vergeben. Anschließend werden mit der Methode <em>call()</em> die im ersten Teil des Skripts in einer Konstanten gespeicherten Funktionen auf die jeweilige Achse&nbsp;angewendet.</p>
<p>Als nächstets wird noch die Beschriftung der Achsen als <span class="caps">SVG</span>-Text mit Hilfe von <em>append(“text”)</em>  vorgenommen. Dem Text Element können auch verschiedene Attribute, z.B. für <em>transform</em> für die Rotation eines Textes, <em>x</em> und <em>y</em> für die absolute Positionierung und <em>dx</em> und <em>dy</em> für Offsetwerte zur Textplatzierung relativ zu den absoulten&nbsp;Werten. </p>
<p>Zuletzt wird die eigentliche Visualisierung der Daten implementiert. Dabei wird innerhalb des <span class="caps">SVG</span>-Elements mit <em>selectAll()</em> eine Auswahl an <span class="caps">DOM</span>-Elementen getroffen, an welche die zu visualisierenden Daten gebunden werden sollen. Obwohl zu diesem Zeitpunkt noch keine DOM-Elemente mit der Klasse <em>bar</em> existieren, werden diese als Selektion ausgewählt. Die <em>selectAll()</em> Methode liefert also eine leere Auswahl zurück, die also vorerst nur die späteren Elemente mit der Klasse <em>bar</em> vertritt. Die <em>data()</em> Methode bindet nun das übergebene Datenarray an die Selektion. D.h. die enthaltenen Datensätze werden gezählt, ihre Werte geparst und alle nachfolgenden Funktionen so oft ausgeführt wie Datensätze existieren. Um nun neue, an diese Datensätze gebundene Elemente zu erzeugen, wird die D3-Funktion <em>enter()</em> verwendet. Sie untersucht das <span class="caps">DOM</span> und die Anzahl der vorhandenen Datenwerte. Sind weniger DOM-Elemente vorhanden als Daten, erstellt sie ein neues Element als Platzhalter, auf welchem die nachfolgenden Funktionen ausgeführt werden können. <sup><a href="#13">13</a></sup></p>
<p>Dank D3s <em>enter()</em> Methode wird mit <em>append(‘rect’)</em> für jede der zehn Nationen im Datenarray ein Balken in Form eines einfachen <span class="caps">SVG</span> Rechteck-Shapes erstellt. Diese erhalten jeweils ein Klassenattribut mit dem Wert <em>bar</em> (bei einer dynamischen Visualisierung würde <em>selectAll(‘bar’)</em> bei erneutem Aufruf von <em>draw</em> die bereits gerenderten Balken als Selektion auswählen), die Attribute <em>x</em> und <em>y</em> für die Positionierung im Koordinatensystem und die Attribute <em>width</em> und <em>height</em>. Der X-Wert eines Balkens wird anhand der vorher festgelegten X-Achse festgelegt, ebenso der Y-Wert, er entpricht der Anzahl an Fahrern. Die Höhe eines Balken errechnet sich aus der Höhe des SVGs abzüglich des Abstands zum Datenwert für die Fahreranzahl auf der Y-Achse. Die Breite wird von der D3-Methode <em>rangeBand()</em> automatisch entsprechend des verfügbaeren Platzes&nbsp;berechnet.</p>
<pre><code class="lang-javascript">...

svg
        .append(<span class="string">'g'</span>)
        .attr(<span class="string">'class'</span>, <span class="string">'x axis'</span>)
        .attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">${margin.left}</span>, <span class="subst">${height}</span>)`</span>)
        .call(xAxis)
        .selectAll(<span class="string">'text'</span>)
        .style(<span class="string">'text-anchor'</span>, <span class="string">'end'</span>)
        .attr(<span class="string">'dx'</span>, <span class="string">'-.5em'</span>)
        .attr(<span class="string">'dy'</span>, <span class="string">'.5em'</span>)
        .attr(<span class="string">'transform'</span>, <span class="string">'rotate(-45)'</span>)

    svg
        .append(<span class="string">'g'</span>)
        .attr(<span class="string">'class'</span>, <span class="string">'y axis'</span>)
        .attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">${margin.left}</span>, 0)`</span>)
        .call(yAxis)
        .append(<span class="string">'text'</span>)
        .attr(<span class="string">'transform'</span>, <span class="string">'rotate(-90)'</span>)
        .attr(<span class="string">'y'</span>, <span class="number">6</span>)
        .attr(<span class="string">'dy'</span>, <span class="string">'0.71em'</span>)
        .style(<span class="string">'text-anchor'</span>, <span class="string">'end'</span>)
        .text(<span class="string">'Count'</span>)

    svg
        .selectAll(<span class="string">'bar'</span>)
        .data(data)
        .enter()
        .append(<span class="string">'rect'</span>)
        .attr(<span class="string">'class'</span>, <span class="string">'bar'</span>)
        <span class="comment">/* Animation im Originalprojekt
        .attr("y", height) //set y-axis at the bottom for the transition
        .attr("height", 0) //set height of bars to 0 for the transition    
        .transition()
        .delay(100)
        .duration(1000)
        */</span>
        .attr(<span class="string">'height'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>{
            <span class="keyword">return</span> height - y(d.count)
        })
        .attr(<span class="string">'y'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>{
            <span class="keyword">return</span> y(d.count)
        })
        .attr(<span class="string">'x'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>{
            <span class="keyword">return</span> x(d.nationality) + margin.left
        })
        .attr(<span class="string">'width'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
            <span class="keyword">return</span> x.rangeBand()
        })
}
</code></pre>
<p>Im Originalprojekt wurde der Visualisierung mit einer in D3 sehr einfach zu erstellenden Transition noch etwas Dynamik verliehen werden. Die Säulen wurden mit der Funktion <em>transition()</em> von der X-Achse aus zeitversetzt zu ihrem jeweiligen maximalen Höhenwert animiert. Dazu wurde vor dem Aufruf der Transition die Y-Achse auf den Wert der <span class="caps">SVG</span>-Höhe verschoben, da ihr Wertebereich umgekehrt ist. Zusätzlich wurde die Höhe der Balken vor der Animation auf null gesetzt. Die Funktion <em>delay()</em> ist für die Verzögerung der Animation zuständig, <em>duration()</em> bestimmt die Dauer in Millisekunden. <sup><a href="#1">1</a></sup></p>
<hr>
<div class='footnotes'>

<a id='1'>1</a> vgl. <a href="http://t3n.de/magazin/javascript-bibliothek-d3-237224/">http://t3n.de/magazin/javascript-bibliothek-d3-237224/</a><br><a id='2'>2</a> vgl. <a href="https://www.linkedin.com/pulse/data-visualizations-using-d3js-brant-snow?trk=seokp_posts_primary_cluster_res_title">https://www.linkedin.com/pulse/data-visualizations-using-d3js-brant-snow?trk=seokp_posts_primary_cluster_res_title</a><br><a id='3'>3</a>  vgl. <a href="http://d3js.org/">http://d3js.org/</a><br><a id='4'>4</a>  <span class="caps">TEXT</span>, JSON, XML, HTML, CSV, TSV<br><a id='5'>5</a> “A streamgraph […] is a type of stacked area graph which is displaced around a central axis, resulting in a flowing, organic shape.” (vgl. <a href="https://en.wikipedia.org/wiki/Streamgraph">https://en.wikipedia.org/wiki/Streamgraph</a>)<br><a id='6'>6</a> “A chord diagram is a graphical method of displaying the inter-relationships between data in a matrix. The data is arranged radially around a circle with the relationships between the points typically drawn as arcs connecting the data together.” (vgl. <a href="https://en.wikipedia.org/wiki/Chord_diagram">https://en.wikipedia.org/wiki/Chord_diagram</a>)<br><a id='7'>7</a> “A choropleth map […] is a thematic map in which areas are shaded or patterned in proportion to the measurement of the statistical variable being displayed on the map, such as population density or per-capita income.” (vgl. <a href="https://en.wikipedia.org/wiki/Choropleth_map">https://en.wikipedia.org/wiki/Choropleth_map</a>)<br><a id='8'>8</a>Genau wie in jQuery werden <span class="caps">DOM</span>-Elemente bei D3 anhand von CSS-Selektoren ausgewählt, allerdings werden diese im Umgang mit der Bilbliothek als “selections” bezeichnet. (vgl. <a href="https://www.linkedin.com/pulse/data-visualizations-using-d3js-brant-snow?trk=seokp_posts_primary_cluster_res_title">https://www.linkedin.com/pulse/data-visualizations-using-d3js-brant-snow?trk=seokp_posts_primary_cluster_res_title</a>)<br><a id='9'>9</a> Für das Beispiel wurden die <a href="http://ergast.com/api/f1/drivers.json">Fahrerdaten</a> der <em>experimental Motor Racing Developer <span class="caps">API</span></em> verwendet. Aus ihnen wurde ein Array mit Objekten, die zum einen die Nationalität und zum anderen, die Häufigkeit dieser Nationalität enthalten, an das D3-Skript übergeben. Das Barchart stellt später die Anzahl der Fahrer pro Nation dar.<br><a id='10'>10</a> Am Anfang des D3-Skripts wurde dieses Template importiert: <code>js import tpl from &#39;../templates/filename.hbs&#39;</code><br><a id='11'>11</a> Statt mit [0, height] wird also [height, 0] als Range definiert. (vgl. <a href="https://www.linkedin.com/pulse/data-visualizations-using-d3js-brant-snow?trk=seokp_posts_primary_cluster_res_title">https://www.linkedin.com/pulse/data-visualizations-using-d3js-brant-snow?trk=seokp_posts_primary_cluster_res_title</a>)<br><a id='12'>12</a> “It is a methodology in svg to group shapes together.”
<a id='13'>13</a> vgl. <a href="http://alignedleft.com/tutorials/d3/binding-data">http://alignedleft.com/tutorials/d3/binding-data</a>
</div>  
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Full blog</a></div>
        <section class="about"><p>“Würdest Du mir bitte sagen, welchen Weg ich einschlagen muß?”<br>“Das hängt in beträchtlichem Maße davon ab, wohin du gehen willst”,<br>antwortete die Katze.<br>“Oh, das ist mir ziemlich gleichgültig”,<br>sagte Alice.<br>“Dann ist es auch einerlei, welchen Weg du einschlägst”,<br>meinte die Katze.<br>“Hauptsache, ich komme irgendwohin”,<br>ergänzte sich Alice.<br>“Das wirst du sicher, wenn du lange genug gehst”,<br>sagte die Katze.</p>

        </section>
        <section class="copy">
          <p>&copy; 2016 Mona &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>